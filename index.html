<!DOCTYPE html>
<html>
<head>
  <title>PLASMA</title>
  <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
  <script src="https://www.w3.org/Tools/respec/respec-w3c" class="remove" defer></script>
  <script type="text/javascript" class="remove">
    var respecConfig = {
      title: "PLASMA",
      subtitle: "Policy Language for Solid’s Metadata-based Access Control",
      shortName: "plasma",
      specStatus: "unofficial",
      latestVersion: "https://harshp.com/plasma",
      publishDate: "2022-11-01",
      doJsonLd: true,
      maxToclevel: 3,
      github: "coolharsh55/plasma",
      includePermalinks: false,
      editors: [
        {
          name: "Beatriz Esteves",
          url: "https://besteves4.github.io/",
          company: "OEG, Universidad Politécnica de Madrid",
          companyURL: "https://oeg.fi.upm.es/"
        },
        {
          name: "Harshvardhan J. Pandit",
          url: "https://harshp.com/",
          company: "ADAPT Centre, Trinity College Dublin",
          companyURL: "https://tcd.ie/"
        }]
    };
  </script>
</head>

<body>
  <section id="abstract">
    <div class="issue" title="TODO: abstract"></div>
  </section>

  <section id="introduction">
    <h2>Introduction</h2>
    <div class="issue" title="TODO: introduction"></div>
    <p>PLASMA aims to provide a way to express the use-cases in terms of:</p>
    <ul>
      <li><em>What?</em> i.e. the data in question</li>
      <li><em>Who?</em> i.e. who&#39;s data and who is requesting/using/providing it</li>
      <li><em>Where?</em> i.e. where the data is coming from, where it will be stored, where is it going</li>
      <li><em>Why?</em> i.e. for what purpose is this being done?</li>
      <li><em>When?</em> i.e. over what temporal duration this is taking place</li>
      <li><em>How?</em> i.e. how is this being done, by what means and technologies</li>
    </ul>
  </section>

  <section id="vocab">
    <h2>Vocabulary</h2>
    <div class="issue" title="TODO: vocabulary overview"></div>

    <section id="base">
      <h3>Base concepts</h3>
      <div class="issue" title="TODO: base concepts"></div>
      <ul>
        <li><code>App</code>: An application that stores, collects, uses, shares, erases, or performs other actions on <code>Data</code> with the aim of providing specific purposes, services, or functionalities, e.g., a Contact Address Book or a Chess Game. An application can use several <code>Services</code> and requires human intervention.</li>
        <div class="note">In the <a href="https://solid.github.io/data-interoperability-panel/specification/" target="_blank">Solid Application Interoperability</a> specification, an <a href="http://www.w3.org/ns/solid/interop#Application" target="_blank">application</a> is defined as "a software-based Agent that a Social Agent uses to access, manipulate, and manage the data in their control, as well as the data they've been granted access to". This definition is compatible with the one provided for the same concept in the <a href="https://solidproject.org/TR/protocol#solid-app" target="_blank">Solid Protocol</a> specification.</div>
        <li><code>Service</code>: A functionality that may or may not utilise or interact with <code>Data</code> within a <code>Pod</code>. For example, an Identity Verification service that checks the validity of certificates, or a Query service that retrieves contacts matching the filter. A service can be associated with an <code>App</code> or a <code>Pod</code> and may not require human intervention, e.g. executing in the background. Services represent an abstraction of functionality that does not necessarily have to be <i>packaged</i> as an app. For example, Users can choose services to run on their Pods, with the services having their own developers and providers.
          <div class="note" title="exploratory concept">We envision service as being something that does not require the full metadata and agent-based identification and authorisation as an App. The exact mechanism for this as well as workflows for how it should be initiated and used have not been explored yet. We specify this concept to denote the possibility of having services separate from apps.</div>
        </li>
        <li><code>Pod</code>: A Personal Data Store or a &#39;Pod&#39; that conforms to the Solid specifications.</li>
        <div class="note">In the <a href="https://solidproject.org/TR/protocol" target="_blank">Solid Protocol</a> specification, a <a href="https://solidproject.org/TR/protocol#data-pod" target="_blank">Pod</a> is defined as "a place for storing documents, with mechanisms for controlling who can access what". This definition is compatible with the one provided for the same concept in the <a href="https://solid.github.io/data-interoperability-panel/specification/" target="_blank">Solid Application Interoperability</a> specification, however, none of the Solid vocabularies provides this term.</div>
        <li><code>Agent</code>: An actual or virtual entity associated with carrying out actions within or related to a <code>Pod</code> or its <code>Data</code>.</li>
        <div class="note">Both the <a href="https://solidproject.org/TR/protocol" target="_blank">Solid Protocol</a> and <a href="https://solidproject.org/TR/wac" target="_blank">Web Access Control</a> specifications define an <a href="https://solidproject.org/TR/protocol#agent" target="_blank">agent</a> as a "person, social entity, or software identified by a URI; e.g., a WebID denotes an agent". The <a href="https://solid.github.io/data-interoperability-panel/specification/" target="_blank">Solid Application Interoperability</a> specification goes one step further by making a distinction between agents and <a href="https://solid.github.io/data-interoperability-panel/specification/#social-agent" target="_blank">social agents</a>, where the latter is defined as a "strongly identifiable individual, group, or organization that can own or be responsible for data, and provide authorization to the access of that data by other Agents".</div>
        <li><code>Policy</code>: A set of guidelines or decisions or recommendations governing the use of <code>Pod</code> or its <code>Data</code>.</li>
        <li><code>Entity</code>: A legally recognised entity. Legally recognised means the entity has some recognition as being able to enter into agreements, has an address for accountability, is responsible for obligations, rights, etc. Entities are associated with <code>Apps</code>, <code>Services</code>, <code>Pods</code>.</li>
        <li><code>Data</code>: Data stored on a <code>Pod</code> or associated with <code>User</code>, <code>App</code>, <code>Service</code>, or <code>DataSubject</code> for a <code>Pod</code>.</li>
        <li><code>Provider</code>: An <code>Entity</code> that <i>provides</i> some <i>thing</i> such as a <code>Pod</code>, <code>SolidPlatform</code>, <code>App</code>, <code>Service</code>, or <code>Data</code>.</li>
        <li><code>Developer</code>: An <code>Entity</code> that <i>develops</i> some <i>thing</i> such as a <code>Pod</code>, <code>SolidPlatform</code>, <code>App</code>, or <code>Service</code>.</li>
        <li><code>Customer</code>: An <code>Entity</code> that <i>has a business relationship</i> with others entities to use <code>Pod</code>s or related resources (e.g., purchasing, leasing, subscribing, or establishing any form of contract or agreement for the use of Solid <code>Pod</code>s or its related resources, with or without monetary transactions).</li>
        <li><code>SolidPlatform</code>: The specific implementation of Solid that is installed or used within a <code>Pod</code>.</li>
        <li><code>SolidSpecification</code>: The specification that the <code>Pod</code> conforms to in terms of defining the terms, behaviour, and implementation details regarding <code>Pods</code> and its association with <code>Services</code> and <code>Apps</code>.</li>
        <div class="issue">Related issue on providing terms for Solid Pod related entities and functionalities: <a href="https://github.com/solid/vocab/issues/83" target="_blank">solid/vocab/issues/83</a></div>
      </ul>
    </section>

    <section id="policies">
      <h3>Policies</h3>
      <div class="issue" title="TODO: policies"></div>
      <blockquote>
        <p>Note that these definitions are not limited to the data on Pod - this is intentional. Otherwise the policy will only relate to what is happening on the pod, but not what happens after that. For example, to avoid cases such as to collect data for purpose X and then later decide to also perform purpose Y on it. This is to align the descriptions with legal requirements such as stating all purposes at the time of data collection, or going back and asking again for a new purpose.</p>
      </blockquote>
      <ul>
        <li><code>DataRequest</code>: Request from an app, service, agent or user to store, collect, use, share, erase, or perform other actions on data. </li>
        <li><code>AppManifest</code>: Manifest from an app including information regarding startup parameters, identity, privacy policies and <code>DataRequest</code>. </li>
        <div class="note">While the W3C currently has a <a href="https://www.w3.org/TR/appmanifest/" target="_blank">Web Application Manifest</a> specification on the standardisation track, by itself it should not be considered sufficient for an App's Manifest in the context of Solid Pods. We envision the necessity to include metadata in the Manifest to denote information such as: entities, policies, identifiers, etc. -- related to accountability and legal compliance.</div>
        <li><code>ServiceManifest</code>: Manifest from an service including metadata, apps using the service and information regarding <code>DataRequest</code>. </li>
        <li><code>UserPreference</code>: Preference of a User regarding purposes, entities, and other actions on data. A preference is a soft rule that may not be satisfied e.g. user preferences do not match an app, but the user decides to still accept the stated purposes.</li>
        <li><code>UserRequirement</code>: Requirements of a User regarding purposes, entities, and other on data. A requirement is a hard rule that should always be satisfied e.g. user requirement is to never share something - then even if the user accepts the stated request, this should not be allowed. One-time exceptions, or changing the rule, are solutions to get around this. But the intention is to create a barrier.</li>
        <li><code>UserOffer</code>: An offer from the User of a Pod regarding purposes, entities, and actions on data. For example, the <code>User</code> expresses an <code>UserOffer</code> that their <code>ServiceUsageStatistics</code> as a category of <code>Data</code> is available for <code>Research</code> as a <code>Purpose</code> but only by <code>NonProfitEntity</code> (e.g. Universities), and with the requirement that it follow a specific <code>Law</code> (e.g. GDPR).</li>
        <li><code>DataAgreement</code>: An agreement regarding purposes, entities, and actions on data. For example, stating that the <code>User</code> has given <code>Consent</code> to an <code>App</code> to <code>Collect</code>, <code>Store</code>, and <code>Use</code> some <code>Data</code> for a <code>Purpose</code>. Or, stating that the <code>User</code> has accepted that their <code>Data</code> will be <code>Collect</code>ed and <code>Use</code>d for a providing a <code>Service</code>.</li>
      </ul>
    </section>

    <section id="entities">
      <h3>Entities</h3>
      <div class="issue" title="TODO: entities"></div>
      <p><strong>Infrastructure</strong></p>
      <ul>
        <li><code>InfrastructureProvider</code>: The provider of infrastructure - such as storage, computing, network, domain names. The term infrastructure has a very specific and restricted meaning and should not be confused with other terms such as services (e.g. analytics, querying) or applications (e.g. data use dashboards).</li>
        <li><code>PodProvider</code>: The provider of a Pod. Here the term <em>provider</em> refers to an entity that provisions the Pod i.e. creates the necessary infrastructure, platform, and software so that the Pod can be used by the User.</li>
        <li><code>PodDeveloper</code>: The developer of a Pod. The developer may not be the provider, in which case this term will differ from <code>PodProvider</code>. </li>
        <li><code>SolidPlatformProvider</code>: The provider of a <code>SolidPlatform</code>. Here the term <em>provider</em> refers to an entity that provisions the SolidPlatform i.e. creates the necessary infrastructure, platform, and software so that the SolidPlatform can be used by the User.</li>
        <li><code>SolidPlatformDeveloper</code>: The developer of a <code>SolidPlatform</code>. The developer may not be the provider, in which case this term will differ from <code>SolidPlatformProvider</code>. </li>
      </ul>

      <p><strong>Applications</strong></p>
      <ul>
        <li><code>AppDeveloper</code>: The developer of an App. Developer here refers to the Entity that developed the app, rather than individual members or units within the entity. For example, Firefox has Mozilla as the developer.</li>
        <li><code>AppProvider</code>: The provider of an App. Here the term <em>provider</em> refers to the entity that enables that app to be accessed and used. The provider may not be the developer, in which case this term will differ from <code>AppDeveloper</code>. Examples include directly using an App from the developer&#39;s website (developer is same as provider), or using an App through an App Store or a common marketplace (developer is different from provider). For example, Firefox can be directly downloaded from its website, or via package management, or come pre-installed on a system.</li>
        <div class="note">
          The Solid Application Interoperability specification defines that an application should have an <a href="https://solid.github.io/data-interoperability-panel/specification/#application-profile-document" target="_blank">application profile document</a> which is defined as a "linked data document obtained by dereferencing the URI for a given application identity". This document should be publicly readable (example below retrieved from the specification). In addition, this specification makes a distinction between <a href="https://solid.github.io/data-interoperability-panel/specification/#security-appauthz" target="_blank">strongly and weakly identifiable applications</a>.
          <pre>
            PREFIX interop: &lt;http://www.w3.org/ns/solid/interop#>

            &lt;https://projectron.example/#id> a interop:Application ;
              interop:applicationName "Projectron" ;
              interop:applicationDescription "Manage projects with ease" ;
              interop:applicationAuthor &lt;https://acme.example/#id> ;
              interop:applicationThumbnail &lt;https://acme.example/thumb.svg> ;
              interop:hasAccessNeedGroup &lt;https://projectron.example/needs#need-group-pm> .
            </pre>
        </div>
        <div class="issue">Related issue on changing access needs from data to purpose-based needs: <a href="https://github.com/solid/data-interoperability-panel/issues/281" target="_blank">solid/data-interoperability-panel/issues/281</a></div>
      </ul>

      <p><strong>Services</strong></p>
      <ul>
        <li><code>ServiceDeveloper</code>: The developer of an Service. Developer here refers to the Entity that developed the service, rather than individual members or units within the entity. For example,  has Mozilla as the developer.</li>
        <li><code>ServiceProvider</code>: The provider of an Service. Here the term <em>provider</em> refers to the entity that enables that Service to be accessed and used. The provider may not be the developer, in which case this term will differ from <code>ServiceDeveloper</code>. Examples include directly using an Service from the developer&#39;s website (developer is same as provider), or using an Service through an Service Store or a common marketplace (developer is different from provider). For example, Firefox can be directly downloaded from its website, or via package management, or come pre-installed on a system.</li>
      </ul>

      <p><strong>Identity</strong></p>
      <ul>
        <li><code>IdentityProvider</code>: The provider of an identity service or credential. Here provider means the entity that provisions the identity mechanism. For example, the Pod Provider also provides an Identity credential for use with the Pod.</li>
        <div class="note">The <a href="http://www.w3.org/ns/solid/terms#" target="_blank">Solid terms vocabulary</a> includes an <code>oidcIssuer</code> predicate to denote <a href="https://solid.github.io/webid-profile/#identity-provider" target="_blank">"a Solid OIDC Identity Provider capable of authenticating the WebID owner"</a>. Beyond that, no metadata is provided regarding the identity of the provider.</div>
        <li><code>IdentityDeveloper</code>: The developer of an identity service or credential. The developer may be different from a provider, in which case this term will differ from <code>IdentityProvider</code>. For example, a Pod Provider uses an existing Certificate creation service to provide certificates, in which case the developer would be the entity that created the Certificate while the Pod Provider would be the provider for the identity.</li>
        <div class="issue">Related issue on providing metadata regarding identity: <a href="https://github.com/solid/solid-oidc/issues/206" target="_blank">solid/solid-oidc/issues/206</a></div>
        <div class="issue">Related issue on supporting OIDC self-issuers: <a href="https://github.com/solid/solid-oidc/issues/91" target="_blank">solid/solid-oidc/issues/91</a></div>
      </ul>

      <p><strong>Users</strong></p>
      <ul>
        <li><code>User</code>: User of a Pod that can read, write, edit, erase data on a Pod. There may be multiple <code>User</code> for a single Pod. Users can have limited permissions or abilities to interact with data, for example - <code>ReadUser</code> that can only read or view data, or <code>WriteUser</code> that can only write or edit existing data.</li>
        <li><code>DataSubject</code>: The subject of data within a Pod. The <code>User</code> may not always be the <code>Subject</code>. There may be multiple <code>Subject</code>s for a single Pod.</li>
        <li><code>PodAdmin</code>: User of a Pod that has <i>administrative</i> capability to make decisions about the Pod (as in separate from Data in a Pod), such as deleting the Pod, changing identity or other resource providers, or other controls and decisions related to the use and maintainence of Pods.</li>
        <li><code>AdminUser</code>: User of a Pod that has <i>administrative</i> capability to make decisions about Data on a Pod. The administration can scoped, such as being limited to specific data paths/categories, or can be global, i.e. applicable to all data in the Pod.</li>
        <div class="note">Currently, Solid vocabularies do not make a distinction between different types of users. The term <code>owner</code> is used in several Solid specifications but not always with the same meaning. The <a href="http://www.w3.org/ns/solid/terms#" target="_blank">Solid terms vocabulary</a> is currently debating adding the concept <code>owner</code> to refer to the entity that has <code>acl:control</code> access to an entire storage. The <a href="https://solidproject.org/TR/protocol" target="_blank">Solid Protocol</a> provides an informal extension of this definition by adding that an owner is "a person or a social entity that is considered to have the rights and responsibilities of a data storage" and "is set at storage provisioning time and can be changed". However, this term is problematic in that it may get interpreted as referring to <i>data ownership</i> which is a specific legally relevant concept, and may produce unintended applications in terms of copyright and intellectual property rights. It also creates issues through use of <i>responsibilities</i> which are based on legal obligations and rights, and which do not necessarily fall upon the individuals.</div>       
        <div class="issue">Related issue on adding new access modes: <a href="https://github.com/solid/web-access-control-spec/issues/85" target="_blank">solid/web-access-control-spec/issues/85</a></div>
      </ul>

      <p><strong>Agents</strong></p>
      <p>Agents are entities that can act, whether by themselves (e.g. users), or on behalf or behest of other entities. They can be real (e.g. people, parents on behalf of children) or virtual (e.g. software agent). For Solid, we use <i>Agent</i> here to refer to the virtual agents so as to distinguish them from <i>Entity</i> which represents real or legal entities (i.e. those that can be held accountable).</p>
      <ul>
        <li><code>UserAgent</code>: An agent acting on behalf of the user. For example, a <code>Service</code> running or managed by the Pod that checks the matching of <code>AppRequest</code> with <code>UserPreference</code> and <code>UserRequirement</code> to assist the user towards handling a <code>DataRequest</code>.</li>
        <li><code>AppAgent</code>: An agent acting on behalf of an App. For example, an agent that organizes an inbox application by email priority. </li>
        <li><code>ServiceAgent</code>: An agent acting on behalf of a Service. For example, an agent that syncs data stored in a Pod with another Pod.</li>
      </ul>
      <div class="note">The Solid Application Interoperability specification defines a specific type of application - an <a href="https://solid.github.io/data-interoperability-panel/specification/#authorization-agent" target="_blank">authorisation agent</a> - appointed by a "Social Agent to be responsible for managing the access to data under their control" via registries. This definition is too narrow as a user might want to manage their pod data using other types of services or entities. Further details on the identity of this agent are currently missing.</div>
      <div class="issue">Related issue on the usage of the <a href="https://solid.github.io/data-interoperability-panel/specification/#social-agent" target="_blank">Social Agent</a> term: <a href="https://github.com/solid/data-interoperability-panel/issues/282" target="_blank">solid/data-interoperability-panel/issues/282</a></div>
    </section>

    <section id="agreements">
      <h3>Agreements</h3>
      <p>An Agreement is a document that describes an arrangement between entities. In the context of Solid, an <code>AppAgreement</code>, <code>ServiceAgreement</code> or <code>PodAgreement</code> can be governed by a contract between the <code>User</code> and the entity responsible for the <code>App</code>, <code>Service</code> or <code>Pod</code>, or can be based on the <code>UserConsent</code>.</p>
      <div class="note">Currently, the Solid specifications do not include any information on such agreements - only resources related to authorised accesses are established between Users and Apps in the form of <i> ACL authorisations</i> or <i>ACP access grants</i>.</div>
      <div class="issue" title="TODO: agreements"></div>
      <ul>
        <li><code>UserConsent</code>: Agreement between a User and an Entity  regarding the processing of data in a Pod and based on the User's consent.</li>
        <li><code>AppAgreement</code>: Agreement between a User and an Entity  regarding the processing of data in a Pod and based on a contract between the User and the Entity having responsibility for the App.</li>
        <li><code>ServiceAgreement</code>Agreement between a User and an Entity  regarding the processing of data in a Pod and based on a contract between the User and the Entity having responsibility for the Service.</li>
        <li><code>PodAgreement</code>: Agreement between a User and an Entity  regarding the processing of data in a Pod and based on a contract between the User and the Entity having responsibility for the Pod.</li>
      </ul>
    </section>

    <section id="notices">
      <h3>Notices</h3>
      <p>A notice is a document to provide information about the entities, operations, data, location, etc. involved in a particular process. In the context of Solid, notices can be provided to declare the providers/developer of applications, services, infrastructure, to describe data processing practices, etc.</p>
      <div class="issue" title="TODO: notices"></div>
      <ul>
        <li><code>Notice</code>: An artefact providing information about something</li>
        <li><code>ExAnteNotice</code>: A notice that is provided <em>before</em> something happens</li>
        <li><code>ExPostNotice</code>: A notice that is provided <em>after</em> something happens</li>
        <li><code>NoticeProvider</code>: Entity that provides the notice</li>
        <li><code>NoticeRecipient</code>: Entity that receives the notice</li>
        <li><code>NoticeContext</code>: Information about a notice, such as where/when/how/why it was provided</li>
        <li><code>AppPrivacyNotice</code>: An app&#39;s privacy notice.</li>
        <li><code>ServicePrivacyNotice</code>: A service&#39;s privacy notice.</li>
        <li><code>PodPrivacyNotice</code>: A pod provider&#39;s or pod developer&#39;s privacy notice.</li>
        <li><code>UserPrivacyNotice</code>: A pod user&#39;s privacy notice regarding their data.</li>
      </ul>
    </section>

    <section id="services">
      <h3>Services</h3>
      <div class="issue" title="TODO: services"></div>
      <p>Services are processes or functionalities executed in the background, i.e., execution happens without an active front-end for the user to interect, that may or may not use Data stored within a Pod. Examples include identity management, querying or communication services. A service can be an isolated process or can be associated with an App.</p>
      <ul>
        <li><code>IdentityService</code>: Service providing identity credentials and identifiers.</li>
        <li><code>LoggingService</code>: Service providing logging mechanisms and functionalities.</li>
        <li><code>PolicyManagementService</code>: Service providing policy management and resolution functionalities.</li>
        <li><code>IdentityManagementService</code>: Service providing identity management functionalities.</li>
        <li><code>DataManagementService</code>: Service providing data management and associated functionalities.</li>
        <li><code>NetworkManagementService</code>: Service providing network management and associated functionalities.</li>
        <li><code>DataStorageService</code>: Service providing data storage and associated functionalities.</li>
        <li><code>ComputeService</code>: Service providing computing and associated functionalities.</li>
        <li><code>DataQueryService</code>: Service providing data querying and associated functionalities.</li></li>
        <li><code>AppManagementService</code>: Service providing app management and associated functionalities.</li></li>
        <li><code>ServiceManagement</code>: Service providing service management and associated functionalities.</li></li>
      </ul>
    </section>

    <section id="data">
      <h3>Data</h3>
      <p>While Solid's overall purpose is to provide individuals with a data storage service for their data, it should also contain (meta)data related with users, providers, applications, services, logs or registries.</p>
      <div class="issue" title="TODO: data"></div>
        <p><code>Log</code>: A provenance record associated with a process.</p>
          <ul>
            <li><code>DataLog</code>: A log regarding actions on data. For example, when data was added / stored in the Pod, when it was erased, accessed, or queried.</li>
            <li><code>AccessControlLog</code>: A log regarding access actions on data. For example, when data was permitted or denied to be accessed.</li>
            <li><code>PolicyLog</code>: A log regarding policies governing the data. For example, a new user preference or requirement was added, or an app made a request, or a policy negotiation succefully took place and the user granted their consent.</li>
            <li><code>IdentityLog</code>: A log regarding identity provision, verification, and its use. For example, an app's identity could not be verified, or a User succeffully logged in.</li>
            <li><code>SecurityLog</code>: A log regarding security concerns and incidents. For example, data integrity has failed a check, or there was an attempt to repeatedly access data without sufficient authorisation.
            </li>
          </ul>

          <p><code>UserData</code>: Data belonging or about the User.</p>
          <ul>
            <li><code>DataProvider</code>: The provider or source of data. It can be made available by the user or a data provider or can be generated by an application, service or agent.</li>
          </ul>

          <p><code>AppData</code>: Data required by an App to provide its functionalities, or recording relevant contextual information. </p>
            <ul>
            <li><code>AppMetadata</code>: Information about an App such as who was its provider, developer, what functionalities and services it offers, relevant policies and authorisations.</li>
            <li><code>AppLog</code>: Logs related to an App's activities.</li>
            <li><code>AppPersistentData</code>: Data required by the App that is persistently stored. For example, results of a frequent query.</li>
            <li><code>AppTemporaryData</code>: Data required by the App that is temporarily stored. For example, results of a non-frequent query.</li>
          </ul></li>

          <p><code>ServiceData</code>: Data required by an Service to provide its functionalities, or recording relevant contextual information. </p>
            <ul>
            <li><code>ServiceMetadata</code>: Information about an Service such as who was its provider, developer, what functionalities and services it offers, relevant policies and authorisations.</li>
            <li><code>ServiceLog</code>: Logs related to an Service's activities.</li>
            <li><code>ServicePersistentData</code>: Data required by the Service that is persistently stored. For example, results of a frequent query.</li>
            <li><code>ServiceTemporaryData</code>: Data required by the Service that is temporarily stored. For example, results of a non-frequent query.</li>
          </ul></li>

          <p><code>PodManagementData</code>: Data required by a Pod to provide its functionalities. For example, storing the Pod metadata regarding provider, developer, agreement, or credentials associated with Pod infrastructure.</p>

          <p><code>SchemaData</code>: Schemas, formats or shapes for the data recognised or supported by Apps, Services or Pods.</p>

          <p><code>Registry</code>: An indexed record for providing collective and convenient access to data within a Pod.</p>
            <ul>
              <li><code>AccessControlRegistry</code>: A registry listing access control decisions and authorisations.</li>
              <li><code>DataRegistry</code>: A registry listing data categories, resources, availability, and other relevant information.</li>
              <li><code>DataSchemaRegistry</code>: A registry listing recognised or supported schemas for data, apps, or services.</li>
              <li><code>PolicyRegistry</code>: A registry listing policies relevant to data, apps, services, and Pod. For example, user preferences, consent decisions, pending requests.</li>
              <li><code>AppRegistry</code>: A registry listing Apps associated with the Pod. For example, a contact book app along with its relevant metadata such as provider, developer, policies.</li>
              <li><code>ServiceRegistry</code>: A registry listing Services associated with the Pod. For example, a query service that can retrieve data along with its relevant metadata such as provider, developer, policies.</li>
              <li><code>UserRegistry</code>: A registry listing Users associated with the Pod and their relevant policies, agents, and other relevant information.</li>
              <div class="note">In the <a href="https://solid.github.io/data-interoperability-panel/specification/" target="_blank">Solid Application Interoperability</a> specification, only three types of registries are conceptualised, including an <a href="https://solid.github.io/data-interoperability-panel/specification/#agent-registry" target="_blank">agent registry</a> which encompasses both social agents and applications, an <a href="https://solid.github.io/data-interoperability-panel/specification/#authorization-registry" target="_blank">authorisation registry</a> and a <a href="https://solid.github.io/data-interoperability-panel/specification/#data-registry" target="_blank">data registry</a> where each data registration should comply with a data registration shape.</div>
            </ul>
        </section>
      </section>

      <section id="using-policies">
        <h2>Using Policies</h2>
        <div class="issue" title="TODO: policies">
          <p>Listing out how different policies can be expressed using ODRL and DPV. Specify necessity for ODRL, and then state in conformance that a policy must be valid ODRL, etc.</p>
        </div>

        <div class="note"> <a href="https://besteves4.github.io/odrl-access-control-profile/oac.html" target="_blank">https://besteves4.github.io/odrl-access-control-profile/oac.html</a> </div>

        <section id="policies-user-preference">
          <h3>User Preferences</h3>
        </section>

        <blockquote>In this example, User A issued a preference policy <code>https://example.com/preference1</code> that permits <code>oac:Read</code> access operations over its <code>oac:Age</code> data for the purpose of <code>dpv:AcademicResearch</code> if the legal basis is <code>dpv:Consent</code>.</blockquote>
        <div class="example">
          <pre>
&lt;https://example.com/preference1> a oac:PreferencePolicy ;
  odrl:profile oac: ;
  dct:description "Preference to read age data for academic research based on consent." ;
  dct:creator ex:userA ;
  dct:issued "2022-11-08T18:00:47"^^xsd:dateTime ;
  odrl:uid ex:preference1 ;
  odrl:permission [
    odrl:assigner ex:userA ;
    odrl:action oac:Read ;
    odrl:target oac:Age ;
    odrl:constraint [
      odrl:and 
        [
          dct:title "Purpose for access is to conduct academic research." ;
          odrl:leftOperand oac:Purpose ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:AcademicResearch
        ] ,
        [
          dct:title "Legal basis for access is consent." ;
          odrl:leftOperand oac:LegalBasis ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:Consent
        ]
    ]
  ] .
          </pre>
        </div>

        <section id="policies-user-requirements">
          <h3>User Requirements</h3>
        </section>

        <blockquote>In this example, User A issued a requirement policy <code>https://example.com/requirement1</code> that permits <code>oac:Read</code> access operations over its <code>oac:Identifier</code> data for the purpose of <code>dpv:IdentityVerification</code> if the legal basis is <code>dpv:Consent</code>.</blockquote>
        <div class="example">
          <pre>
&lt;https://example.com/requirement1> a oac:RequirementPolicy ;
  odrl:profile oac: ;
  dct:description "Requirement to read identifier data for identity verification based on consent." ;
  dct:creator ex:userA ;
  dct:issued "2022-11-08T18:05:09"^^xsd:dateTime ;
  odrl:uid ex:requirement1 ;
  odrl:permission [
    odrl:assigner ex:userA ;
    odrl:action oac:Read ;
    odrl:target oac:Identifier ;
    odrl:constraint [
      odrl:and 
        [
          dct:title "Purpose for access is to verify the identity of the assigner." ;
          odrl:leftOperand oac:Purpose ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:IdentityVerification
        ] ,
        [
          dct:title "Legal basis for access is consent." ;
          odrl:leftOperand oac:LegalBasis ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:Consent
        ]
    ]
  ] .
          </pre>
        </div>

        <section id="policies-user-offer">
          <h3>User Offer</h3>
        </section>

        <blockquote>In this example, User A issued an <code>odrl:Offer</code> with the identifier <code>https://example.com/offer1</code>, based on the requirement <code>https://example.com/requirement1</code> and preference <code>https://example.com/preference1</code> policies, as is indicated by the <code>dct:source</code> property. The permission associated with the requirement policy contains the property <code>dps:hasContext</code> associated with the term <code>dpv:Required</code> to indicate that said permission is a requirement, while the term <code>dpv:Optional</code> is used to identify the rules related with a preference policy.</blockquote>
        <div class="example">
          <pre>
&lt;https://example.com/offer1> a odrl:Offer ;
  odrl:profile oac: ;
  dct:description "Offer to read identifier data for identity verification and age data for academic research based on consent." ;
  dct:creator ex:userA ;
  dct:source ex:preference1, ex:requirement1 ;
  dct:issued "2022-11-08T18:07:34"^^xsd:dateTime ;
  odrl:uid ex:offer1 ;
  odrl:permission [
    dpv:hasContext dpv:Required ;
    odrl:assigner ex:userA ;
    odrl:action oac:Read ;
    odrl:target oac:Identifier ;
    odrl:constraint [
      odrl:and 
        [
          dct:title "Purpose for access is to verify the identity of the assigner." ;
          odrl:leftOperand oac:Purpose ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:IdentityVerification
        ] ,
        [
          dct:title "Legal basis for access is consent." ;
          odrl:leftOperand oac:LegalBasis ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:Consent
        ]
    ]
  ] ;
  odrl:permission [
    dpv:hasContext dpv:Optional ;
    odrl:assigner ex:userA ;
    odrl:action oac:Read ;
    odrl:target oac:Age ;
    odrl:constraint [
      odrl:and 
        [
          dct:title "Purpose for access is to conduct academic research." ;
          odrl:leftOperand oac:Purpose ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:AcademicResearch
        ] ,
        [
          dct:title "Legal basis for access is consent." ;
          odrl:leftOperand oac:LegalBasis ;
          odrl:operator odrl:isA ;
          odrl:rightOperand dpv:Consent
        ]
    ]
  ] .
          </pre>
        </div>

        <section id="data-usage-request">
          <h3>Data Usage Request</h3>
        </section>

        <blockquote>In this example, User B issued an <code>odrl:Request</code> with the identifier <code>https://example.com/request1</code> to <code>oac:Use</code> <code>oac:Age</code> data for the purpose of conducting an academic research project X.</blockquote>
        <div class="example">
          <pre>
&lt;https://example.com/request1> a odrl:Request;
  odrl:profile oac: ;
  dct:description "Request to read age data for academic research." ;
  dct:creator ex:userB ;
  dct:issued "2022-11-08T18:15:56"^^xsd:dateTime ;
  odrl:uid ex:request1 ;
  odrl:permission [
    odrl:assignee ex:userB ;
    odrl:action oac:Use ;
    odrl:target oac:Age ;
    odrl:constraint [
      dct:title "Purpose for access is to conduct research in the academic project X, conducted in University Y." ;
      odrl:leftOperand oac:Purpose ;
      odrl:operator odrl:eq ;
      odrl:rightOperand ex:AcademicResearchProjectX
    ]
  ] .

ex:AcademicResearchProjectX a dpv:AcademicResearch ;
  rdfs:label "Conduct research in the academic project X, conducted in University Y." .
          </pre>
        </div>

        <section id="policies-consent">
          <h3>Consent Agreement</h3>
        </section>

        <blockquote>In this example, User A and B reach an agreement to allow <code>oac:Read</code> access operations over User A's <code>Age</code> data for the purpose of academic research project X. This <code>odrl:Agreement</code> is the result of the matching of <code>https://example.com/offer1</code> and <code>https://example.com/request1</code>, as indicated by the <code>dct:references</code> property. The legal basis of the agreement is consent, as is specified in the policy with the <code>dpv:hasLegalBasis dpv:Consent</code> terms, and User A and User B are registered as the data subject and data controller in question, respectively, using the <code>dpv:hasDataSubject</code> and <code>dpv:hasDataController</code> terms.</blockquote>
        <div class="example">
          <pre>
&lt;https://example.com/agreement1> a odrl:Agreement ;
  odrl:profile oac: ;
  dct:description "Agreement to read age data for academic research based on consent." ;
  dct:creator ex:userA ;
  dct:issued "2022-11-08T18:13:37"^^xsd:dateTime ;
  odrl:uid ex:agreement1 ;
  dct:references ex:offer1, ex:request1 ;
  dpv:hasDataSubject ex:userA ;
  dpv:hasDataController ex:userB ;
  dpv:hasLegalBasis dpv:Consent ;
  odrl:permission [
    odrl:assigner ex:userA ;
    odrl:assignee ex:userB ;
    odrl:action oac:Read ;
    odrl:target oac:Age ;
    odrl:constraint [
      dct:title "Purpose for access is to conduct research in the academic project X, conducted in University Y." ;
      odrl:leftOperand oac:Purpose ;
      odrl:operator odrl:eq ;
      odrl:rightOperand ex:AcademicResearchProjectX ] ] .
          </pre>
        </div>

        <section id="policies-contract">
          <h3>Contract Agreement</h3>
        </section>

        <blockquote>In this example, User A and B reach an agreement to allow <code>oac:Read</code> access operations over User A's <code>Contact</code> data for the purpose of academic research project X. This <code>odrl:Agreement</code> is the result of the matching of <code>https://example.com/offer2</code> and <code>https://example.com/request2</code>, as indicated by the <code>dct:references</code> property. The legal basis of the agreement is a contract, as is specified in the policy with the <code>dpv:hasLegalBasis dpv:Contract</code> terms, and User A and User B are registered as the data subject and data controller in question, respectively, using the <code>dpv:hasDataSubject</code> and <code>dpv:hasDataController</code> terms.</blockquote>
        <div class="example">
          <pre>
&lt;https://example.com/agreement2> a odrl:Agreement ;
  odrl:profile oac: ;
  dct:description "Agreement to read age data for academic research based on a contract." ;
  dct:creator ex:userA ;
  dct:issued "2022-11-14T01:11:29"^^xsd:dateTime ;
  odrl:uid ex:agreement2 ;
  dct:references ex:offer2, ex:request2 ;
  dpv:hasDataSubject ex:userA ;
  dpv:hasDataController ex:userB ;
  dpv:hasLegalBasis dpv:Contract ;
  odrl:permission [
    odrl:assigner ex:userA ;
    odrl:assignee ex:userB ;
    odrl:action oac:Read ;
    odrl:target oac:Contact ;
    odrl:constraint [
      dct:title "Purpose for access is to conduct research in the academic project X, conducted in University Y." ;
      odrl:leftOperand oac:Purpose ;
      odrl:operator odrl:eq ;
      odrl:rightOperand ex:AcademicResearchProjectX ] ] .
          </pre>
        </div>

      </section>

      <section id="conformance">
        <div class="issue" title="TODO: conformance conditions">
          <p>Listing out what is mandatory to be provided, what is optional, and how conformity should be assessed and ensured.</p>
        </div>

        <section id="conformance-pod">
          <h3>Pod Conformance</h3>
          <p>For a Pod to be conformant with this specification, the following conditions should be satisfied:</p>
          <div class="issue" title="Shapes for Pod metadata need to be developed">
            <p>The requirements for Pod conformance necessitate shapes or forms to be developed for specifying information in a well-defined / commonly-agreed manner. This includes: ...</p>
          </div>
        <ul>
          <li>A Pod MUST provide or declare <code>PodManagementData</code> which includes metadata about the Pod, such as <code>InfrastructureProvider</code>, <code>PodProvider</code> and <code>SolidPlatformProvider</code> and of its developers in case they differ from the providers, as well as the specific <code>SolidPlatform</code> and <code>SolidSpecification</code> implemented by the <code>Pod</code>.</li>
          <li>Pod discovery methods should be available.</li>
          <li>A Pod MUST implement or provide equivalent functionality to support the different registries and records/logs specified in this document, such as <code>AccessControlRegistry</code>, <code>DataRegistry</code>, <code>UserRegistry</code></li>
          <li>A Pod MUST utilised well-defined shapes for data stored in authorisation and record-keeping related registries, such as <code>AccessControlRegistry</code>.</li>
          <!-- <li>Pending access requests should be stored in the <code>PolicyRegistry</code> with a <code>Pending</code> status.</li> -->
        </ul>
        <!-- <p>note: inbox, e.g. interop spec makes a distinction between having an inbox and an access inbox just for access-related messages to be posted</p> -->
        </section>

        <section id="conformance-app">
          <h3>App Conformance</h3>
          
          <ul>
            <li>All <code>Apps</code> should have an <code>AppManifest</code> in conformance with <a href="https://www.w3.org/TR/appmanifest/" target="_blank">W3C Web Application Manifest specification</a>
              <div class="issue" data-number="1">
                <p>The W3C App Manifest specification is not sufficient to provide the necessary information as required for legal accountability. Missing items include the app's providers and developer's legal identities, links to privacy notices and policies, etc.</p>
              </div>
            </li>
            <li>Shapes can be used to check conformance with mandatory manifest requirements.</li>
            <li>App manifests of relevant apps can be stored in the <code>AppRegistry</code>.</li>
            <li>App manifests should include infomation regerding the <code>AppDeveloper</code> and/or <code>AppProvider</code>.</li>
            <li><code>AppManifest</code> should state the <code>DataRequest</code> using <code>odrl:hasPolicy</code> either through internal triples or external links.</li>
            <li><code>DataRequest</code> should be checked for compliance to conformance with the ODRL profile for access control, e.g. example on a data use request policy available in <a href="#data-usage-request">Section 4.4</a>.</li>
            <li><code>AppManifest</code> should link the privacy policy of the app using <code>dpv:hasPolicy</code> either through internal triples or external links.</li>
            <li><code>Apps</code> can have multiple <code>AppAgents</code>.</li>
          </ul>

          <div class="example">
            <pre>
ex:app a :App ;
  :hasManifest ex:app-manifest .

ex:app-manifest a :AppManifest ;
  dc:language "en" ;
  dc:title "Super Racer 3000" ;
  interop:applicationName "Super Racer 3000" ;
  dc:description "A racer game app." ;
  interop:applicationDescription "A racer game app." ;
        …
  odrl:hasPolicy ex:DataRequest ;
  dpv:hasPolicy ex:appPrivacyPolicy .
            </pre>
          </div>

        </section>

        <section id="conformance-service">
          <h3>Service Conformance</h3>
        </section>

        <ul>
          <li>All <code>Services</code> should have a <code>ServiceManifest</code>.</li>
          <li>Shapes can be used to check conformance with mandatory manifest requirements.</li>
          <li>Service manifests of relevant services can be stored in the <code>ServiceRegistry</code>.</li>
          <li>Service manifests should include infomation regerding the <code>ServiceDeveloper</code> and/or <code>ServiceProvider</code>.</li>
          <li><code>ServiceManifest</code> should state the <code>DataRequest</code> using <code>odrl:hasPolicy</code> either through internal triples or external links.</li>
          <li><code>DataRequest</code> should be checked for compliance to conformance with the ODRL profile for access control, e.g. example on a data use request policy available in <a href="#data-usage-request">Section 4.4</a>.</li>
          <li><code>ServiceManifest</code> should link the privacy policy of the app using <code>dpv:hasPolicy</code> either through internal triples or external links.</li>
          <li><code>Services</code> can have multiple <code>ServiceAgents</code>.</li>
        </ul>

        <section id="conformance-user">
          <h3>User Conformance</h3>

          <ul>
            <li>Impactful interactions of a <code>User</code> such as logins and change of identity providers or changing data permissions or creating/editing policies within a <code>Pod</code> must be recorded --> How??? using ...</li>
            <li>A <code>UserRegistry</code> must contain information regarding the <code>DataSubjects</code> storing data within a Pod, the <code>PodAdmin</code> and all other users, e.g., <code>ReadUser</code>, <code>WriteUser</code> or <code>AdminUser</code>, that might have access to the <code>Data</code>.</li>
            <li><code>Users</code> can be directly associated with a <code>DataRequest</code> so that they can make requests for data without using an application or service.</li>
            <li><code>Users</code> can have multiple <code>UserAgents</code>.</li>
            <!-- <li>how can users make data use requests without using an app or service</li> -->
          </ul>

        </section>

        <section id="conformance-agent">
          <h3>Agent Conformance</h3>

          <ul>
            <li><code>Agents</code> activity must be in accordance with the manifest of the entity for which they are acting on behalf of.</li>
            <li>A record of the usage of an <code>AppAgent</code>, <code>ServiceAgent</code> or <code>UserAgent</code> must be kept in the <code>AppRegistry</code>, <code>ServiceRegistry</code> or <code>UserRegistry</code>, respectively.</li>
          </ul>

        </section>

      </section>

      <section id="workflows">
        <h2>Workflows</h2>
        <div class="issue" title="TODO: workflows">
          <p>Explaining the different workflows possible (e.g. app sends a request, what happens next?) and how the terms used here can be used. Assuming everything is conformance.</p>
        </div>

        <section id="workflow-pod">
          <h3>Provisioning a Pod</h3>
          <p>The provision of a <code>Pod</code>, and related infrastructure used to implement it, may have different setups depending on the actors that develop and provide the <code>Pod</code>s, e.g., in a completely self-managed scenario, the <code>User</code> is the <code>Entity</code> responsible for the provision of the infrastructure, platform and software deployed for the usage of <code>Pod</code>s, while in an opposite scenario, the <code>User</code> relies on <code>Provider</code>s and/or <code>Developer</code>s to implement and deploy all the infrastructure needed to use a <code>Pod</code>.</p>
          <ul>
            <li><code>User</code> needs to get an identity document through a <code>IdentityProvider</code> and keep a <code>IdentityLog</code> regarding the identity provision</li>
            <li><code>User</code> needs to get a <code>Pod</code> through a <code>PodProvider</code></li>
            <li>Granting authorisation to a <code>UserAgent</code> to act on their behalf</li>
          </ul>
        </section>

        <section id="workflow-data">
          <h3>Adding Data to a Pod</h3>
          <p>Add resources to the <code>Pod</code></p>
          <ul>
            <li>Keep a <code>DataLog</code> when <code>Data</code> is added to the Pod</li>
            <li>Update resource's metadata, e.g., resource A contains health data <code>:resourceA dpv:hasPersonalData dpv-pd:Health</code></li>
            <li>Add policies such as <code>UserPreferences</code>, <code>UserRequirements</code> and <code>UserOffers</code> to the Pod</li>
            <li>Keep a <code>PolicyLog</code> when a policy is added to the Pod</li>
          </ul>
        </section>

        <section id="workflow-policies">
          <h3>Creating User Policies</h3>
        </section>

        <section id="workflow-apps">
          <h3>Apps Requesting Data</h3>
          <p><code>App</code> request to use <code>Pod</code> <code>Data</code></p>
          <ul>
            <li><code>User</code> needs to be authenticated and an <code>IdentityLog</code> regarding the identity verification should be kept</li>
            <li>Get the <code>DataRequest</code> from the <code>AppManifest</code></li>
            <li>Match the <code>DataRequest</code> with the <code>UserPreferences</code>, <code>UserRequirements</code> and <code>UserOffers</code></li>
            <li>Keep a <code>AccessControlLog</code> of the <code>DataAgreement</code></li>
          </ul>
        </section>

        <section id="workflow-services">
          <h3>Services Requesting Data</h3>
          <p><code>Service</code> request to use <code>Pod</code> <code>Data</code></p>
          <ul>
            <li>Get the <code>DataRequest</code> from the <code>ServiceManifest</code></li>
            <li>Match the <code>DataRequest</code> with the <code>UserPreferences</code>, <code>UserRequirements</code> and <code>UserOffers</code></li>
            <li>Keep a <code>AccessControlLog</code> of the <code>DataAgreement</code></li>
          </ul>
        </section>

        <section id="workflow-results">
          <h3>Returning Results Derived from Processing Operations</h3>
        </section>

        <section id="workflow-audit">
          <h3>Auditing Pods, Data, and Apps</h3>
        </section>
      
      </section>

      <section id="legal-compliance">
        <h2>Legal Compliance</h2>
        <div class="issue" title="TODO: legal compliance">
          <p>Listing out how these terms relate to GDPR (and GDPR-like laws), what is missing, what needs to be done additionally.</p>
        </div>
      </section>

      <section class="appendix" id="issue-summary"></section>

    </body>

    </html>
